<!-- result-template.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAMRUDHI Lottery Results - SM-9 (29/06/2025)</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #10182a;
            color: #e6eaf3;
            margin: 0;
            padding: 0;
        }
        .header {
            background: #181f36;
            padding: 24px 0 18px 0;
            border-bottom: 2px solid #232c4b;
            box-shadow: 0 2px 12px rgba(0,0,0,0.13);
        }
        .header-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 18px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .lottery-title {
            font-size: 2em;
            font-weight: 700;
            color: #fff;
            margin-bottom: 2px;
            letter-spacing: 1px;
        }
        .lottery-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 18px 32px;
            font-size: 1.08em;
            color: #b3b9c9;
            margin-bottom: 6px;
        }
        .lottery-meta span {
            background: #232c4b;
            border-radius: 7px;
            padding: 4px 14px;
            font-weight: 500;
            color: #7ecbff;
            margin-right: 6px;
        }
        .venue {
            color: #b3b9c9;
            font-size: 1em;
            margin-bottom: 0;
        }
        .search-bar {
            margin: 28px auto 18px auto;
            max-width: 420px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .search-box {
            position: relative;
            width: 100%;
            display: flex;
            align-items: center;
        }
        .search-box input {
            width: 100%;
            padding: 15px 44px 15px 18px;
            border-radius: 8px;
            border: none;
            font-size: 1.15em;
            background: #232c4b;
            color: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.10);
            outline: none;
            transition: border 0.2s, background 0.2s;
            border: 2px solid #232c4b;
            margin: 0;
        }
        .search-box input:focus {
            border: 2px solid #7ecbff;
            background: #1a223a;
        }
        .search-box button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 0 7px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            transition: opacity 0.2s;
        }
        #searchBtn {
            right: 7px;
            opacity: 0.85;
        }
        #searchBtn:active svg, #searchBtn:focus svg {
            filter: brightness(1.2);
        }
        #clearBtn {
            right: 36px;
            opacity: 0.85;
        }
        #clearBtn:active svg, #clearBtn:focus svg {
            filter: brightness(1.2);
        }
        .search-box svg {
            display: block;
        }
        .main-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 18px 36px 18px;
        }
        .prize-section {
            margin-bottom: 32px;
            border-radius: 14px;
            padding: 0 0 18px 0;
            box-shadow: 0 2px 12px rgba(0,0,0,0.10);
            background: #181f36;
            border: 2.5px solid #232c4b;
            overflow: hidden;
        }
        .prize-header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 18px 18px 10px 18px;
            border-bottom: 1.5px solid #232c4b;
        }
        .prize-title {
            font-size: 1.18em;
            font-weight: bold;
            color: #fff;
            letter-spacing: 0.5px;
        }
        .prize-amount {
            font-size: 1.08em;
            font-weight: 600;
            color: #7ecbff;
            margin-left: auto;
        }
        .winners-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px 8px;
            margin: 18px 0 0 0;
            padding: 0 18px;
        }
        .winner {
            background: #232c4b;
            color: #7ecbff;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 1.08em;
            margin-bottom: 6px;
            transition: background 0.2s, color 0.2s, box-shadow 0.2s;
            box-shadow: 0 1px 4px rgba(0,0,0,0.03);
            cursor: pointer;
            user-select: all;
            min-width: 60px;
            text-align: center;
            font-weight: 500;
        }
        .winner.highlight {
            background: #7ecbff;
            color: #181f36;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(126,203,255,0.13);
            border: 1.5px solid #7ecbff;
            font-size: 1.13em;
            letter-spacing: 0.5px;
        }
        .no-result {
            text-align: center;
            color: #ef233c;
            font-size: 1.13em;
            margin-top: 24px;
            font-weight: 500;
        }
        /* Prize color accents */
        .prize-section.prize-1st { border-left: 8px solid #7ecbff; }
        .prize-section.prize-consolation { border-left: 8px solid #a259ff; }
        .prize-section.prize-2nd { border-left: 8px solid #ffb347; }
        .prize-section.prize-3rd { border-left: 8px solid #ff6f61; }
        .prize-section.prize-4th { border-left: 8px solid #00b894; }
        .prize-section.prize-5th { border-left: 8px solid #00cec9; }
        .prize-section.prize-6th { border-left: 8px solid #fdcb6e; }
        .prize-section.prize-7th { border-left: 8px solid #e17055; }
        .prize-section.prize-8th { border-left: 8px solid #0984e3; }
        .prize-section.prize-9th { border-left: 8px solid #636e72; }
        @media (max-width: 700px) {
            .header-content, .main-content { padding: 0 4vw; }
            .prize-header, .winners-list { padding: 0 2vw; }
            .prize-section { border-radius: 7px; }
            .lottery-title { font-size: 1.2em; }
            .prize-title { font-size: 1em; }
            .winner, .winner.highlight { font-size: 0.98em; padding: 7px 8px; min-width: 44px; }
            .search-bar { max-width: 98vw; }
        }
        .info-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
            justify-content: center;
            margin: 28px 0 18px 0;
        }
        .info-card {
            background: #181f36;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.10);
            border: 2px solid #232c4b;
            min-width: 140px;
            padding: 18px 22px 12px 22px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .info-label {
            color: #7ecbff;
            font-size: 1em;
            margin-bottom: 7px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
        .info-value {
            color: #fff;
            font-size: 1.25em;
            font-weight: bold;
            letter-spacing: 1px;
        }
        @media (max-width: 700px) {
            .info-cards { gap: 10px; }
            .info-card { min-width: 44vw; padding: 12px 4vw 8px 4vw; border-radius: 7px; }
            .info-label { font-size: 0.98em; }
            .info-value { font-size: 1.08em; }
        }
    </style>
</head>
<body>
        <div class="header">
        <div class="header-content">
            <div class="lottery-title">SAMRUDHI</div>
            <div class="lottery-meta">
                <span>Draw: SM-9</span>
                <span>Date: 29/06/2025</span>
                <span>Venue: GORKY BHAVAN, NEAR BAKERY JUNCTION, THIRUVANANTHAPURAM</span>
            </div>
        </div>
    </div>
    <div class="main-content">
        <div class="info-cards">
            <div class="info-card">
                <div class="info-label">Total Winners</div>
                <div class="info-value" id="totalWinners">-</div>
            </div>
            <div class="info-card">
                <div class="info-label">Prize Distributed</div>
                <div class="info-value" id="prizeDistributed">-</div>
            </div>
            <div class="info-card">
                <div class="info-label">Draw Number</div>
                <div class="info-value" id="drawNumber">-</div>
            </div>
            <div class="info-card">
                <div class="info-label">Prize Categories</div>
                <div class="info-value" id="prizeCategories">-</div>
            </div>
        </div>
        <div class="search-bar">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search your ticket number (e.g., 145666 or MH 145666)" autocomplete="off">
                <button id="searchBtn" title="Search"><svg width="22" height="22" viewBox="0 0 20 20" fill="none"><circle cx="9" cy="9" r="7" stroke="#7ecbff" stroke-width="2"/><path d="M15.5 15.5L13 13" stroke="#7ecbff" stroke-width="2" stroke-linecap="round"/></svg></button>
                <button id="clearBtn" title="Clear" style="display:none;"><svg width="18" height="18" viewBox="0 0 20 20" fill="none"><line x1="6" y1="6" x2="14" y2="14" stroke="#ef233c" stroke-width="2" stroke-linecap="round"/><line x1="14" y1="6" x2="6" y2="14" stroke="#ef233c" stroke-width="2" stroke-linecap="round"/></svg></button>
            </div>
        </div>
        <div id="results"></div>
        <div id="noResult" class="no-result" style="display:none;">No matching ticket found.</div>
    </div>
    <script>
        // Paste JSON data here
        const data = {
            "lottery_name": "SAMRUDHI",
            "draw_number": "SM-9",
            "draw_date": "29/06/2025",
            "venue": "GORKY BHAVAN, NEAR BAKERY JUNCTION, THIRUVANANTHAPURAM",
            "prizes": {
                "1st_prize": {
                    "amount": "10000000",
                    "winners": ["MH 145666 (PALAKKAD)"]
                },
                "consolation_prize": {
                    "amount": "5000",
                    "winners": [
                        "MA 145666", "MB 145666", "MC 145666", "MD 145666", "ME 145666",
                        "MF 145666", "MG 145666", "MJ 145666", "MK 145666", "ML 145666", "MM 145666"
                    ]
                },
                "2nd_prize": {
                    "amount": "2500000",
                    "winners": ["MB 140352 (PALAKKAD)"]
                },
                "3rd_prize": {
                    "amount": "500000",
                    "winners": ["MH 116523 (CHITTUR)"]
                },
                "4th_prize": {
                    "amount": "5000",
                    "winners": [
                        "0191", "0705", "0788", "2062", "2517", "2712", "2819", "3329", "3813", "4121",
                        "4282", "4739", "4757", "5146", "5426", "6240", "6901", "6902", "8621", "9450"
                    ]
                },
                "5th_prize": {
                    "amount": "2000",
                    "winners": [
                        "0803", "1589", "2197", "3973", "5581", "5696"
                    ]
                },
                "6th_prize": {
                    "amount": "1000",
                    "winners": [
                        "0804", "1046", "2193", "2258", "2386", "2707", "2893", "3337", "3364", "3846",
                        "3923", "4099", "4402", "4554", "4610", "4924", "5489", "5898", "5997", "6336",
                        "6513", "6802", "6941", "6967", "7278", "7389", "7476", "7832", "8990", "9277"
                    ]
                },
                "7th_prize": {
                    "amount": "500",
                    "winners": [
                        "0188", "0265", "0288", "0428", "0430", "0473", "0611", "0739", "0790", "0895",
                        "0988", "1201", "1211", "1241", "1410", "1432", "1562", "1587", "1686", "1855",
                        "1903", "1908", "1973", "2092", "2102", "2172", "2420", "2507", "2645", "2780",
                        "2953", "3170", "3389", "3532", "3668", "3889", "4015", "4024", "4174", "4236",
                        "4451", "5570", "5690", "5702", "5828", "5916", "6089", "6249", "6265", "6354",
                        "6602", "6705", "7219", "7338", "7371", "7377", "7451", "8013", "8022", "8113",
                        "8246", "8300", "8330", "8465", "8879", "9180", "9202", "9356", "9361", "9369",
                        "9436", "9591", "9700", "9858", "9875", "9938"
                    ]
                },
                "8th_prize": {
                    "amount": "200",
                    "winners": [
                        "0257", "0301", "0315", "0330", "0365", "0862", "0969", "1002", "1079", "1117",
                        "1242", "1316", "1364", "1422", "1538", "1558", "2050", "2199", "2265", "2454",
                        "2482", "2487", "2526", "2547", "2603", "2754", "2826", "2828", "2897", "2981",
                        "3052", "3449", "3543", "3565", "3588", "3657", "3792", "3934", "4527", "4538",
                        "4551", "4802", "4824", "4868", "4886", "5012", "5303", "5500", "5769", "5904",
                        "5973", "6095", "6110", "6126", "6595", "6668", "6751", "6753", "6914", "6966",
                        "6988", "6991", "7051", "7126", "7205", "7228", "7298", "7477", "7596", "7662",
                        "7843", "7884", "7891", "7926", "8110", "8222", "8290", "8408", "8557", "8667",
                        "8898", "8906", "8984", "9110", "9749", "9769", "9817", "9821", "9822", "9882",
                        "9974", "9978"
                    ]
                },
                "9th_prize": {
                    "amount": "100",
                    "winners": [
                        "0051", "0083", "0163", "0171", "0229", "0274", "0371", "0480", "0791", "0890",
                        "1028", "1076", "1096", "1209", "1240", "1271", "1278", "1285", "1286", "1409",
                        "1479", "1506", "1526", "1659", "1743", "1968", "1980", "2023", "2138", "2170",
                        "2211", "2254", "2286", "2324", "2342", "2394", "2449", "2543", "2628", "2640",
                        "2659", "2728", "2745", "2816", "2829", "2857", "2975", "3001", "3011", "3172",
                        "3239", "3351", "3488", "3530", "3534", "3551", "3593", "3656", "3718", "3729",
                        "4080", "4309", "4366", "4369", "4414", "4502", "4663", "4678", "4684", "4730",
                        "4907", "4917", "5098", "5156", "5339", "5347", "5408", "5417", "5424", "5444",
                        "5514", "5592", "5608", "5621", "5907", "5981", "5993", "6010", "6199", "6264",
                        "6350", "6504", "6573", "6581", "6619", "6681", "6688", "6719", "6766", "6893",
                        "7038", "7058", "7098", "7178", "7353", "7428", "7437", "7447", "7455", "7506",
                        "7590", "7663", "7739", "7746", "7791", "7823", "7900", "8017", "8023", "8030",
                        "8031", "8211", "8254", "8305", "8309", "8443", "8561", "8595", "8608", "8698",
                        "8813", "8900", "8909", "8932", "8946", "9035", "9114", "9254", "9285", "9314",
                        "9365", "9384", "9390", "9455", "9487", "9579", "9595", "9616", "9622", "9629"
                    ]
                }
            }
        };

        // Prize display names and color classes
        const prizeNames = {
            "1st_prize": {name: "1st Prize", class: "prize-1st"},
            "consolation_prize": {name: "Consolation Prize", class: "prize-consolation"},
            "2nd_prize": {name: "2nd Prize", class: "prize-2nd"},
            "3rd_prize": {name: "3rd Prize", class: "prize-3rd"},
            "4th_prize": {name: "4th Prize", class: "prize-4th"},
            "5th_prize": {name: "5th Prize", class: "prize-5th"},
            "6th_prize": {name: "6th Prize", class: "prize-6th"},
            "7th_prize": {name: "7th Prize", class: "prize-7th"},
            "8th_prize": {name: "8th Prize", class: "prize-8th"},
            "9th_prize": {name: "9th Prize", class: "prize-9th"}
        };

        // --- Dynamic Info Cards ---
        function updateInfoCards() {
            // Total Winners
            let totalWinners = 0;
            let totalPrize = 0;
            Object.values(data.prizes).forEach(prize => {
                const winners = prize.winners.length;
                totalWinners += winners;
                // Prize amount as number
                const amount = Number(prize.amount);
                if (!isNaN(amount)) totalPrize += winners * amount;
            });
            document.getElementById('totalWinners').textContent = totalWinners;
            // Prize Distributed (format as ₹X.XX Cr or ₹X,XX,XXX)
            let prizeStr = '';
            if (totalPrize >= 1e7) {
                prizeStr = '₹' + (totalPrize/1e7).toFixed(2) + 'Cr';
            } else if (totalPrize >= 1e5) {
                prizeStr = '₹' + (totalPrize/1e5).toFixed(2) + 'L';
            } else {
                prizeStr = '₹' + totalPrize.toLocaleString();
            }
            document.getElementById('prizeDistributed').textContent = prizeStr;
            // Draw Number
            document.getElementById('drawNumber').textContent = data.draw_number || '-';
            // Prize Categories
            document.getElementById('prizeCategories').textContent = Object.keys(data.prizes).length;
        }

        function renderResults(filter = "") {
            const resultsDiv = document.getElementById('results');
            const noResultDiv = document.getElementById('noResult');
            let found = false;
            let html = "";
            filter = filter.trim().toUpperCase();
            const filterNum = filter.replace(/[^0-9]/g, "");

            Object.entries(data.prizes).forEach(([key, prize]) => {
                let winners = prize.winners;
                let sectionMatches = [];
                winners.forEach(winner => {
                    let winnerClean = winner.replace(/\s*\([^)]*\)/g, "").toUpperCase();
                    let winnerNum = winnerClean.replace(/[^0-9]/g, "");
                    if (filter) {
                        if (
                            winnerClean.includes(filter) ||
                            (winnerNum === filterNum && filterNum.length > 0)
                        ) {
                            sectionMatches.push(winner);
                        }
                    } else {
                        sectionMatches.push(winner);
                    }
                });

                // Only show section if there are matches (or if no filter)
                if (sectionMatches.length > 0 && (!filter || filter)) {
                    found = found || (filter && sectionMatches.length > 0);
                    let winnersHtml = sectionMatches.map(winner =>
                        `<span class="winner highlight">${winner}</span>`
                    ).join("");
                    html += `<div class="prize-section ${prizeNames[key]?.class || ''}">
                        <div class="prize-header">
                            <div class="prize-title">${prizeNames[key]?.name || key.replace(/_/g, ' ')}</div>
                            <div class="prize-amount">Prize: ₹${Number(prize.amount).toLocaleString()}</div>
                        </div>
                        <div class="winners-list">${winnersHtml}</div>
                    </div>`;
                }
            });

            resultsDiv.innerHTML = html;
            if (filter && !found) {
                noResultDiv.style.display = '';
            } else {
                noResultDiv.style.display = 'none';
            }
        }

        document.getElementById('searchInput').addEventListener('input', function() {
            renderResults(this.value);
            // Show/hide clear button
            document.getElementById('clearBtn').style.display = this.value ? '' : 'none';
        });

        // Search button triggers search (just focuses input for now, can be extended)
        document.getElementById('searchBtn').addEventListener('click', function(e) {
            document.getElementById('searchInput').focus();
        });

        // Clear button clears input and results
        document.getElementById('clearBtn').addEventListener('click', function(e) {
            document.getElementById('searchInput').value = '';
            renderResults('');
            this.style.display = 'none';
            document.getElementById('searchInput').focus();
        });

        updateInfoCards();
        renderResults();
    </script>
</body>
</html>
